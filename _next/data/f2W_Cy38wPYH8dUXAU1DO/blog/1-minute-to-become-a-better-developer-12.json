{"pageProps":{"post":{"slug":"1-minute-to-become-a-better-developer-12","content":"<h4>A tutorial on firing a callback function when an element enters the viewport</h4>\n<p><img src=\"/content/blog/1-minute-to-become-a-better-developer-12/images/0.png\" alt=\"\"></p>\n<p>Art by my buddy<a href=\"https://www.instagram.com/loornicolas/\"> Loor Nicolas</a></p>\n<h4>The problem</h4>\n<p>Our website has a new and shiny landing page. We are getting lots of visits, so the marketing team has asked us to track how many of those visitors scroll down to the Call To Action section.</p>\n<p>How can we do that?</p>\n<h4>A solution</h4>\n<p>Use <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/IntersectionObserver\">window.IntersectionObserver</a> to:</p>\n<ol>\n<li>Detect when the section enters the viewport.</li>\n<li>Fire a callback that will log that event on our analytics software e.g. <a href=\"https://usefathom.com/\">Fathom</a>, <a href=\"https://matomo.org/\">Matomo</a>, <a href=\"https://analytics.google.com/\">Google Analytics</a>.</li>\n<li>Disconnect the observer to avoid logging the event more than once.</li>\n</ol>\n<p>Here’s a demo:</p>\n<p>Demonstration of window.IntersectionObserver to log user scroll to a certain section.</p>\n<hr>\n<div class=\"remark-highlight\"><pre class=\"language-com\"><code class=\"language-com\">  // Feature detection, avoid breaking IE11\n  if (IntersectionObserver) {\n    document.querySelectorAll(&#x26;#39;.call-to-action&#x26;#39;)\n      .forEach((node) =&#x26;gt; {\n        // Create the observer and pass the callback\n        const observer = new IntersectionObserver(function(entries) {\n          if (entries[0].isIntersecting) {\n            // entries[0] is the element that entered into view\n            alert(\n              entries[0].target.textContent.trim() +\n              ` scrolled into view!`\n            );\n            // Disconnect to avoid logging more than once\n            this.disconnect();\n          }\n        });\n\n        // Make the observer watch for the node entering on viewport\n        observer.observe(node);\n      });\n  }\n</code></pre></div>\n","frontmatter":{"title":"1 Minute To Become A Better Developer (#12)","spoiler":"Learn how to leverage window.IntersectionObserver to find out how many visitors see your content, in one minute.","date":"2021-03-10T13:32:36.932Z"}},"previous":{"slug":"1-minute-to-become-a-better-developer-11","frontmatter":{"title":"1 Minute To Become A Better Developer (#11)","spoiler":"Learn how to use Regex’s Negative Lookahead, in one minute.","date":"2021-03-09T13:51:16.857Z"}},"next":{"slug":"1-minute-to-become-a-better-developer-13","frontmatter":{"title":"1 Minute To Become A Better Developer (#13)","spoiler":"Learn how to count the total number of lines in a Git repository, in one minute.","date":"2021-03-11T13:43:08.802Z"}}},"__N_SSG":true}