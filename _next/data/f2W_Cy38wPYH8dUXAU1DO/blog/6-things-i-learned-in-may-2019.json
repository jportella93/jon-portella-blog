{"pageProps":{"post":{"slug":"6-things-i-learned-in-may-2019","content":"<p><img src=\"./images/6-loor-nicolas.jpg\" alt=\"\"></p>\n<p style=\"text-align:center\">Illustration by <a href=\"https://www.instagram.com/loornicolas/\" target=\"_blank\">loornicolas</a><p>\n<h2>1. How to properly update your Node.js modules to the latest versions</h2>\n<p>One common source of confusion for new Node.js developers is the command <code>npm update</code>. It will update all <code>node_modules</code> present in <code>package.json</code> to their latest versions but <strong>it will not change the version names</strong> in <code>package.json</code>.</p>\n<p>So PROBLEM: when another developer clones your repo and runs <code>npm install</code>, she will get an older version from the <code>node_modules</code> than you.</p>\n<p>I found an automatic solution for this: the package <a href=\"https://www.npmjs.com/package/npm-check-updates\">npm-check-updates</a>. Let's see how it works:</p>\n<div class=\"remark-highlight\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">npm</span> <span class=\"token function\">install</span> â€“g npm-check-updates\n</code></pre></div>\n<p>Once installed globally, you can call it like this:</p>\n<div class=\"remark-highlight\"><pre class=\"language-bash\"><code class=\"language-bash\">$ ncu\n</code></pre></div>\n<p>The output of this command will show which packages have a newer available version.</p>\n<p>But the real fun is in calling it with the flag <code>-u</code>, which <strong>will actually update your package.json with the latest versions</strong>. Then just run <code>npm install</code> and all your <code>node_modules</code> will be updated.</p>\n<p>And, as the <code>package.json</code> has been updated, every other developer that runs <code>npm install</code> will get the same updated versions. Success!</p>\n<h2>2. How to build a rich text editor in React.js</h2>\n<p>So I had to build a text editor for a <code>React.js</code> application, with bold, underline, italics, indentation, text aligning, bulletpoints and table functionality. After researching some libraries I found one that was super flexible and had an overall great developer experience: <a href=\"https://www.slatejs.org/#/rich-text\">Slate.js</a>. 100% would recommend.</p>\n<h2>3. How to properly handle browser events</h2>\n<p>While working on a web page with lots of animations triggered by window size, I realized that working with <code>addEventListener</code> and <code>removeEventListener</code> is difficult, because they require the exact same event handler. <a href=\"/you-are-using-browser-events-wrong\">I wrote a small post explaining my approach</a>.</p>\n<h2>4. How to specify a React.js Component as PropType</h2>\n<p>With component composition, this can be a common pattern (modified from the <a href=\"https://reactjs.org/docs/composition-vs-inheritance.html#containment\">React.js docs</a>):</p>\n<div class=\"remark-highlight\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// Create a layout component, that render children on slots.</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\"><span class=\"token maybe-class-name\">SplitPane</span></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> leftComponent<span class=\"token punctuation\">,</span> rightComponent <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token arrow operator\">=></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>div</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>SplitPane<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\"></span>\n<span class=\"token plain-text\">    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>div</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>SplitPane-left<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>leftComponent<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\"></span>\n<span class=\"token plain-text\">    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>div</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>SplitPane-right<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>rightComponent<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\"></span>\n<span class=\"token plain-text\">  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\"><span class=\"token maybe-class-name\">App</span></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token arrow operator\">=></span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span><span class=\"token class-name\">SplitPane</span></span> <span class=\"token attr-name\">left</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span><span class=\"token class-name\">Contacts</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">right</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span><span class=\"token class-name\">Chat</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span>\n</code></pre></div>\n<p><strong>But how can you specify a component or a rendered value as a PropType?</strong></p>\n<p>From the <a href=\"https://github.com/facebook/prop-types#usage\">PropTypes docs</a>:</p>\n<div class=\"remark-highlight\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// Anything that can be rendered: numbers, strings, elements or an array</span>\n  <span class=\"token comment\">// (or fragment) containing these types.</span>\n  <span class=\"token literal-property property\">optionalNode</span><span class=\"token operator\">:</span> <span class=\"token maybe-class-name\">PropTypes</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">node</span><span class=\"token punctuation\">,</span>\n\n  <span class=\"token comment\">// A React element (ie. &#x3C;MyComponent />).</span>\n  <span class=\"token literal-property property\">optionalElement</span><span class=\"token operator\">:</span> <span class=\"token maybe-class-name\">PropTypes</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">element</span><span class=\"token punctuation\">,</span>\n</code></pre></div>\n<p>So we could modify SplitPane like:</p>\n<div class=\"remark-highlight\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\"><span class=\"token maybe-class-name\">SplitPane</span></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> leftComponent<span class=\"token punctuation\">,</span> rightComponent <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token arrow operator\">=></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>div</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>SplitPane<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\"></span>\n<span class=\"token plain-text\">    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>div</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>SplitPane-left<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>leftComponent<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\"></span>\n<span class=\"token plain-text\">    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>div</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>SplitPane-right<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>rightComponent<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\"></span>\n<span class=\"token plain-text\">  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token maybe-class-name\">SplitPane</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">propTypes</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">leftComponent</span><span class=\"token operator\">:</span> <span class=\"token maybe-class-name\">PropTypes</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">oneOfType</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token maybe-class-name\">PropTypes</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">node</span><span class=\"token punctuation\">,</span> <span class=\"token maybe-class-name\">PropTypes</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">element</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">rightComponent</span><span class=\"token operator\">:</span> <span class=\"token maybe-class-name\">PropTypes</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">oneOfType</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token maybe-class-name\">PropTypes</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">node</span><span class=\"token punctuation\">,</span> <span class=\"token maybe-class-name\">PropTypes</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">element</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<h2>5. How to build a data-grid table in React.js</h2>\n<p>Ok, building a table doesn't sound like anything difficult, right? just use a <code>&#x3C;table></code> element and it's sub-elements.</p>\n<p>But what happens when you want display some data with filtering, all kinds of sorting, custom renderers for each cell...?</p>\n<p>I found myself in this situation and ended up using the batteries-included <a href=\"https://github.com/tannerlinsley/react-table\">react-table package</a>. It really has a ton of out-of-the-box functionality and a great <a href=\"https://github.com/tannerlinsley/react-table/tree/v6#codesandbox-examples\">set of examples</a> to get you up and running quickly!</p>\n<p>I also would recommend it 100%.</p>\n<h2>6. How to be polite with your shell</h2>\n<p>This is more like an easter egg but in <code>~/.bashrc</code> set de following alias:</p>\n<div class=\"remark-highlight\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">alias</span> <span class=\"token assign-left variable\">please</span><span class=\"token operator\">=</span><span class=\"token string\">\"sudo\"</span>\n</code></pre></div>\n<p>So now you can run polite command like:</p>\n<div class=\"remark-highlight\"><pre class=\"language-bash\"><code class=\"language-bash\">$ please gatsby develop\n</code></pre></div>\n","frontmatter":{"title":"6 Things I Learned in May 2019","spoiler":"Some cool React.js libraries, PropTypes, node_modules updates and an Easter Egg.","date":"2019-05-30T19:38:03.284Z"}},"previous":{"slug":"you-are-using-browser-events-wrong","frontmatter":{"title":"You are using browser events wrong","spoiler":"Stop listening.","date":"2019-05-15T19:38:03.284Z"}},"next":{"slug":"displaying-data-with-variable-length","frontmatter":{"title":"Displaying data with variable length","spoiler":"Never trust the design.","date":"2020-01-15T19:38:03.284Z"}}},"__N_SSG":true}