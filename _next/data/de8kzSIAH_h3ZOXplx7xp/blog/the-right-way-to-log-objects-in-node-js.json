{"pageProps":{"post":{"slug":"the-right-way-to-log-objects-in-node-js","content":"<p><img src=\"/content/blog/the-right-way-to-log-objects-in-node-js/images/0.png\" alt=\"\"></p>\n<hr>\n<h4>The problem</h4>\n<p>We want to log in to the console this deeply nested JavaScript Object:</p>\n<div class=\"remark-highlight\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> person <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'Joe'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">age</span><span class=\"token operator\">:</span> <span class=\"token number\">24</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function-variable function\">sayHi</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token console class-name\">console</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Hi!'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">friend</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'Sarah'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">age</span><span class=\"token operator\">:</span> <span class=\"token number\">26</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">friend</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'Peter'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token literal-property property\">age</span><span class=\"token operator\">:</span> <span class=\"token number\">39</span><span class=\"token punctuation\">,</span>\n            <span class=\"token literal-property property\">friend</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'Sarah'</span><span class=\"token punctuation\">,</span>\n                <span class=\"token literal-property property\">age</span><span class=\"token operator\">:</span> <span class=\"token number\">26</span><span class=\"token punctuation\">,</span>\n                <span class=\"token literal-property property\">friend</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'Annie'</span><span class=\"token punctuation\">,</span>\n                    <span class=\"token literal-property property\">age</span><span class=\"token operator\">:</span> <span class=\"token number\">21</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<h4>A Naive Solution</h4>\n<p>The common beginner mistake is to just put it through the most basic logging tool that the language provides: <code>console.log</code>. However, we have limited depth logging, making<code>friend</code> on the third level just appear as <code>[Object]</code>:</p>\n<p><img src=\"/content/blog/the-right-way-to-log-objects-in-node-js/images/1.png\" alt=\"\"></p>\n<p>Console.log: Hidden third level as <code>friend: [Object].</code></p>\n<h4>A Hacky Solution</h4>\n<p>A trick I’ve used in the past is to put it through JSON.stringify with two extra arguments:</p>\n<div class=\"remark-highlight\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token console class-name\">console</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">log</span><span class=\"token punctuation\">(</span><span class=\"token known-class-name class-name\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">stringify</span><span class=\"token punctuation\">(</span>person<span class=\"token punctuation\">,</span> <span class=\"token keyword null nil\">null</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n</code></pre></div>\n<p>You can read about what these do in <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify\">MDN</a>.</p>\n<p>But this approach carries some problems:</p>\n<ol>\n<li>Functions will disappear from the output.</li>\n<li>You won’t get syntax highlighting, as you’re basically logging a formatted string.</li>\n</ol>\n<p><img src=\"/content/blog/the-right-way-to-log-objects-in-node-js/images/2.png\" alt=\"\"></p>\n<p>JSON.stringify: no colors and… where’s is <code>sayHi()</code>??</p>\n<h4><strong>A (BETTER) SOLUTION</strong></h4>\n<p>Use</p>\n<div class=\"remark-highlight\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token console class-name\">console</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">dir</span><span class=\"token punctuation\">(</span>person<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token literal-property property\">depth</span><span class=\"token operator\">:</span> <span class=\"token keyword null nil\">null</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n</code></pre></div>\n<p>That will show all nested objects, including functions, with syntax highlighting.</p>\n<p><img src=\"/content/blog/the-right-way-to-log-objects-in-node-js/images/3.png\" alt=\"\"></p>\n","frontmatter":{"title":"The Right Way To Log Objects in Node.js","spoiler":"And a few other methods that you can also use, but beware of the caveats!","date":"2021-03-01T13:47:00.110Z"}},"previous":{"slug":"quick-async-one-liners-with-async-immediately-invoked-function-expressions","frontmatter":{"title":"Quick Async One-Liners With Async Immediately Invoked Function Expressions","spoiler":"A neat trick for a job interview or to save time on quick scripts","date":"2021-02-26T12:35:22.653Z"}},"next":{"slug":"running-code-snippets-on-chrome-s-console","frontmatter":{"title":"Running Code Snippets on Chrome’s Console","spoiler":"A quick guide for web developers on this great time-saver when executing JavaScript on the go.","date":"2021-03-02T13:47:41.548Z"}}},"__N_SSG":true}