{"pageProps":{"post":{"slug":"5-cool-js-tricks-to-impress-your-teammates","content":"<p><img src=\"/content/blog/5-cool-js-tricks-to-impress-your-teammates/images/0.png\" alt=\"\"></p>\n<p>Illustration by <a href=\"https://www.instagram.com/loornicolas/\">loornicolas</a></p>\n<h3>1. Update your NPM modules with one command</h3>\n<p>One common source of confusion for new Node.js developers is the command <code>npm update</code>. It will update all <code>node_modules</code> present in <code>package.json</code> to their latest versions but <strong>it will not change the version names</strong> in <code>package.json</code>.</p>\n<p>So PROBLEM: when another developer clones your repo and runs <code>npm install</code>, they will get an older version from the <code>node_modules</code> than you.</p>\n<p>I found an automatic solution for this: the package <a href=\"https://www.npmjs.com/package/npm-check-updates\">npm-check-updates</a>. Let’s see how it works:</p>\n<div class=\"remark-highlight\"><pre class=\"language-bash\"><code class=\"language-bash\">npx npm-check-updates\n</code></pre></div>\n<p>The output of this command will show which packages have a newer available version.</p>\n<p>But the real fun is in calling it with the flag <code>-u</code>, which <strong>will actually update your package.json with the latest versions</strong>. Then just run <code>npm install</code> and all your <code>node_modules</code> will be updated.</p>\n<p>And, as the <code>package.json</code> has been updated, every other developer that runs <code>npm install</code> will get the same updated versions. Success!</p>\n<hr>\n<h3>2. Specify a React.js Component as PropType</h3>\n<p>With component composition, this can be a common pattern (modified from the <a href=\"https://reactjs.org/docs/composition-vs-inheritance.html#containment\">React.js docs</a>):</p>\n<div class=\"remark-highlight\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// Create a layout component, that render children on slots.</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\"><span class=\"token maybe-class-name\">SplitPane</span></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> leftComponent<span class=\"token punctuation\">,</span> rightComponent <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token arrow operator\">=></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>div</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>SplitPane<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\"></span>\n<span class=\"token plain-text\">    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>div</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>SplitPane-left<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>leftComponent<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\"></span>\n<span class=\"token plain-text\">    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>div</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>SplitPane-right<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>rightComponent<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\"></span>\n<span class=\"token plain-text\">  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\"><span class=\"token maybe-class-name\">App</span></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token arrow operator\">=></span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span><span class=\"token class-name\">SplitPane</span></span> <span class=\"token attr-name\">left</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span><span class=\"token class-name\">Contacts</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">right</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span><span class=\"token class-name\">Chat</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span>\n</code></pre></div>\n<p>**But how can you specify a component or a rendered value as a PropType?**From the <a href=\"https://github.com/facebook/prop-types#usage\">PropTypes docs</a>:</p>\n<div class=\"remark-highlight\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// Anything that can be rendered: numbers, strings, elements or an array</span>\n  <span class=\"token comment\">// (or fragment) containing these types.</span>\n  <span class=\"token literal-property property\">optionalNode</span><span class=\"token operator\">:</span> <span class=\"token maybe-class-name\">PropTypes</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">node</span><span class=\"token punctuation\">,</span>\n\n  <span class=\"token comment\">// A React element (ie. &#x3C;MyComponent />).</span>\n  <span class=\"token literal-property property\">optionalElement</span><span class=\"token operator\">:</span> <span class=\"token maybe-class-name\">PropTypes</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">element</span><span class=\"token punctuation\">,</span>\n</code></pre></div>\n<p>So we could modify SplitPane like:</p>\n<div class=\"remark-highlight\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\"><span class=\"token maybe-class-name\">SplitPane</span></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> leftComponent<span class=\"token punctuation\">,</span> rightComponent <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token arrow operator\">=></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>div</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>SplitPane<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\"></span>\n<span class=\"token plain-text\">    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>div</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>SplitPane-left<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>leftComponent<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\"></span>\n<span class=\"token plain-text\">    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>div</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>SplitPane-right<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>rightComponent<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\"></span>\n<span class=\"token plain-text\">  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token maybe-class-name\">SplitPane</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">propTypes</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">leftComponent</span><span class=\"token operator\">:</span> <span class=\"token maybe-class-name\">PropTypes</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">oneOfType</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token maybe-class-name\">PropTypes</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">node</span><span class=\"token punctuation\">,</span> <span class=\"token maybe-class-name\">PropTypes</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">element</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">rightComponent</span><span class=\"token operator\">:</span> <span class=\"token maybe-class-name\">PropTypes</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">oneOfType</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token maybe-class-name\">PropTypes</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">node</span><span class=\"token punctuation\">,</span> <span class=\"token maybe-class-name\">PropTypes</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">element</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<hr>\n<h3>3. Clean-Up local Git branches</h3>\n<p>To delete all local branches except <code>master</code> and <code>feat/something-neat</code>:</p>\n<div class=\"remark-highlight\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> branch <span class=\"token operator\">|</span> <span class=\"token function\">egrep</span> <span class=\"token parameter variable\">-v</span> <span class=\"token string\">'master|feat/something-neat'</span> <span class=\"token operator\">|</span> <span class=\"token function\">xargs</span> <span class=\"token function\">git</span> branch <span class=\"token parameter variable\">-D</span>\n</code></pre></div>\n<p>Let’s break it down:</p>\n<ol>\n<li><code>git branch</code> shows all your local branches, this gets piped to <code>egrep</code></li>\n<li><code>egrep</code> will return every branch that matches any identifier inside the quotes, which are separated by a <code>|</code>. The flag <code>-v</code> makes it return every branch that does <strong>not</strong> match the identifiers. This gets piped to <code>xargs</code></li>\n<li><code>xargs</code> passes branch names as arguments to <code>git branch -D</code>, which deletes the branch</li>\n</ol>\n<p>It’s a good idea to first run <code>git branch | egrep -v 'master|feat/something-neat'</code> to see which branches will be deleted, and then run the full command.</p>\n<hr>\n<h3>4. Get a professional git history</h3>\n<p>Let’s say we are starting a website. We have 3 commits:</p>\n<div class=\"remark-highlight\"><pre class=\"language-shell\"><code class=\"language-shell\">747ef1e feat: <span class=\"token function\">add</span> Button\n19d9327 feat: <span class=\"token function\">add</span> Navbar\neffb3b4 initial commit\n</code></pre></div>\n<p>But then we realise that we forget to commits some changes on the Navbar commit. What do we do? We could make a new commit with a message like <code>git commit -m 'fix: missing changes on Navbar'</code>, but that commit wouldn’t have any semantic value to the commit history and it’d only make it less clear.</p>\n<p>A proper solution would be to <strong>fixup</strong> the commit. We would do <code>git commit --fixup 19d9327</code>. Our history would be like this now:</p>\n<div class=\"remark-highlight\"><pre class=\"language-shell\"><code class=\"language-shell\">c2149d1 fixup<span class=\"token operator\">!</span> feat: <span class=\"token function\">add</span> Navbar\n747ef1e feat: <span class=\"token function\">add</span> Button\n19d9327 feat: <span class=\"token function\">add</span> Navbar\neffb3b4 initial commit\n</code></pre></div>\n<p>And now, to squash this last commit with its reference, we would do <code>git rebase --autosquash --interactive effb3b4</code>. This will open Vim or other terminal text editor, just save the changes pressing <code>ZZ</code> and your history now will look like this:</p>\n<div class=\"remark-highlight\"><pre class=\"language-shell\"><code class=\"language-shell\">de1e9de feat: <span class=\"token function\">add</span> Button\nb3b4932 feat: <span class=\"token function\">add</span> Navbar\neffb3b4 initial commit\n</code></pre></div>\n<p>Note that the commit hashes have changed, so only do this with commits that hasn’t been pushed yet.</p>\n<p>Thanks to <a href=\"https://blog.sebastian-daschner.com/entries/git-commit-fixup-autosquash\">Sebastian Daschner</a> for this knowledge!</p>\n<hr>\n<h3>5. Quickly start your work environment (MacOS)</h3>\n<p>There are a number of apps and programs that I use while working. Opening them one by one at the start of the day is a hassle and so is closing them at the end. So I made a bash script to automate this. Copy this text in <code>~/.bashrc</code> .</p>\n<p>For opening everything:</p>\n<div class=\"remark-highlight\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token builtin class-name\">alias</span> <span class=\"token assign-left variable\">work_on</span><span class=\"token operator\">=</span><span class=\"token string\">\"</span>\n<span class=\"token string\">open /Applications/Slack.app ; /</span>\n<span class=\"token string\">open /Applications/Mail.app ; /</span>\n<span class=\"token string\">open /Applications/Zeplin.app ; /</span>\n<span class=\"token string\">open /Applications/Postman.app ; /</span>\n<span class=\"token string\">\"</span>\n</code></pre></div>\n<p>Now I can just open my computer’s Terminal and type <code>work_on</code>and everything will be ready. Basically, you are passing the location of the app to the command <code>open</code> and concatenating the commands with <code>;</code>. Most of the apps live in <code>/Applications</code></p>\n<p>For closing everything:</p>\n<div class=\"remark-highlight\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token builtin class-name\">alias</span> <span class=\"token assign-left variable\">work_off</span><span class=\"token operator\">=</span><span class=\"token string\">\"\nosascript -e 'quit app <span title=\"\\&#x22;\" class=\"token entity\">\\\"</span>Zeplin<span title=\"\\&#x22;\" class=\"token entity\">\\\"</span>' ; /\nosascript -e 'quit app <span title=\"\\&#x22;\" class=\"token entity\">\\\"</span>Mail<span title=\"\\&#x22;\" class=\"token entity\">\\\"</span>' ; /\nosascript -e 'quit app <span title=\"\\&#x22;\" class=\"token entity\">\\\"</span>Code<span title=\"\\&#x22;\" class=\"token entity\">\\\"</span>' ; /\nosascript -e 'quit app <span title=\"\\&#x22;\" class=\"token entity\">\\\"</span>Slack<span title=\"\\&#x22;\" class=\"token entity\">\\\"</span>' ; /\nosascript -e 'quit app <span title=\"\\&#x22;\" class=\"token entity\">\\\"</span>Postman<span title=\"\\&#x22;\" class=\"token entity\">\\\"</span>' ; /\n\"</span>\n</code></pre></div>\n<p>To close apps on macOS we can execute the <code>quit app</code> command with <code>osascript -e</code>.</p>\n<p>Note here that I’m also closing my text editor <code>osascript -e 'quit app \\\"Code\\\"'</code> but I’m not opening it in the previous command. This is because I have a custom alias to open the editor with every different repo, so each time it will be different on opening but it will be the same on closing.</p>\n<hr>\n<h3>BONUS: How to be polite with your shell</h3>\n<p>This is more like an easter egg but in <code>~/.bashrc</code> set de following alias:</p>\n<div class=\"remark-highlight\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token builtin class-name\">alias</span> <span class=\"token assign-left variable\">please</span><span class=\"token operator\">=</span><span class=\"token string\">\"sudo\"</span>\n</code></pre></div>\n<p>So now you can run polite super user commands:</p>\n<div class=\"remark-highlight\"><pre class=\"language-shell\"><code class=\"language-shell\">please gatsby develop\n</code></pre></div>\n","frontmatter":{"title":"5 cool JS tricks to impress your teammates","spoiler":"Some web-dev wisdom, not just limited to JS!","date":"2020-09-25T22:52:57.672Z"}},"previous":{"slug":"creating-a-blackjack-game","frontmatter":{"title":"Creating a Blackjack game","spoiler":"A memento of my first ever JavaScript project circa February 2018.","date":"2020-02-11T22:45:03.284Z"}},"next":{"slug":"5-remarkable-git-commands-that-will-boost-your-coding-productivity","frontmatter":{"title":"5 Remarkable Git Commands That Will Boost Your Coding Productivity","spoiler":"These are custom made, they don’t appear in the Git docs! Saved me countless headaches in the last two years…","date":"2020-09-29T08:24:58.322Z"}}},"__N_SSG":true}