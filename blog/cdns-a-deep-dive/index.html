<!DOCTYPE html><html><head><meta charSet="utf-8" data-next-head=""/><meta name="viewport" content="width=device-width" data-next-head=""/><title data-next-head="">CDNs — A Deep Dive | Jon Portella - Full Stack Developer</title><meta name="author" content="Jon Portella" data-next-head=""/><meta name="description" content="You’ve used them before but you’re not completely sure what they are, here are some answers. - Jon Portella - Full Stack Developer - Welcome to my website! Here you&#x27;ll find articles and resources written by a Full Stack Developer." data-next-head=""/><meta property="og:title" content="CDNs — A Deep Dive" data-next-head=""/><meta property="og:description" content="You’ve used them before but you’re not completely sure what they are, here are some answers. - Jon Portella - Full Stack Developer - Welcome to my website! Here you&#x27;ll find articles and resources written by a Full Stack Developer." data-next-head=""/><meta property="og:type" content="article" data-next-head=""/><meta property="og:url" content="https://jportella93.github.io/jon-portella-blog/blog/cdns-a-deep-dive/" data-next-head=""/><meta property="og:article:published_time" content="2021-04-21T23:45:16.803Z" data-next-head=""/><meta name="twitter:card" content="summary" data-next-head=""/><meta name="twitter:creator" content="jportella93" data-next-head=""/><meta name="twitter:title" content="CDNs — A Deep Dive" data-next-head=""/><meta name="twitter:description" content="You’ve used them before but you’re not completely sure what they are, here are some answers. - Jon Portella - Full Stack Developer - Welcome to my website! Here you&#x27;ll find articles and resources written by a Full Stack Developer." data-next-head=""/><link rel="preload" href="/jon-portella-blog/_next/static/chunks/a6c34ee3c956db31.css" as="style"/><html lang="en" data-next-head=""></html><style>html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:100%/1.75 'Merriweather','Georgia',serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:#2B303A;font-family:'Merriweather','Georgia',serif;font-weight:400;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:Montserrat,sans-serif;font-weight:900;text-rendering:optimizeLegibility;font-size:2.5rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:1.73286rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:1.4427rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;letter-spacing:0.140625em;text-transform:uppercase;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:0.83255rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:0.75966rem;line-height:1.1;font-style:italic;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}ul{margin-left:1.75rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;list-style-position:outside;list-style-image:none;list-style:disc;}ol{margin-left:1.75rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-size:0.85rem;line-height:1.75rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-size:1rem;line-height:1.75rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}blockquote{margin-left:-1.75rem;margin-right:1.75rem;margin-top:0;padding-bottom:0;padding-left:1.42188rem;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-size:1.20112rem;line-height:1.75rem;color:hsla(0,0%,0%,0.59);font-style:italic;border-left:0.32813rem solid hsla(0,0%,0%,0.9);}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.75rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}b{font-weight:700;}strong{font-weight:700;}dt{font-weight:700;}th{font-weight:700;}li{margin-bottom:calc(1.75rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.75rem;margin-bottom:calc(1.75rem / 2);margin-top:calc(1.75rem / 2);}li > ul{margin-left:1.75rem;margin-bottom:calc(1.75rem / 2);margin-top:calc(1.75rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.75rem / 2);}code{font-size:0.85rem;line-height:1.75rem;}kbd{font-size:0.85rem;line-height:1.75rem;}samp{font-size:0.85rem;line-height:1.75rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.16667rem;padding-right:1.16667rem;padding-top:0.875rem;padding-bottom:calc(0.875rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}blockquote > :last-child{margin-bottom:0;}blockquote cite{font-size:1rem;line-height:1.75rem;color:hsla(0,0%,0%,0.9);font-weight:400;}blockquote cite:before{content:"— ";}ul,ol{margin-left:0;}@media only screen and (max-width:480px){ul,ol{margin-left:1.75rem;}blockquote{margin-left:-1.3125rem;margin-right:0;padding-left:0.98438rem;}}h1,h2,h3,h4,h5,h6{margin-top:3.5rem;}a{box-shadow:0 1px 0 0 currentColor;color:#358ccb;text-decoration:none;}a:hover,a:active{box-shadow:none;}mark,ins{background:#007acc;color:white;padding:0.10938rem 0.21875rem;text-decoration:none;}</style><link rel="stylesheet" href="/code-syntax.css"/><link rel="stylesheet" href="/jon-portella-blog/_next/static/chunks/a6c34ee3c956db31.css" data-n-g=""/><noscript data-n-css=""></noscript><script src="/jon-portella-blog/_next/static/chunks/cf92ecf0e3a5fd38.js" defer=""></script><script src="/jon-portella-blog/_next/static/chunks/43e51ee97a48e9c4.js" defer=""></script><script src="/jon-portella-blog/_next/static/chunks/a24d40bce92ee1f2.js" defer=""></script><script src="/jon-portella-blog/_next/static/chunks/421246218e720304.js" defer=""></script><script src="/jon-portella-blog/_next/static/chunks/turbopack-eb5d9eb813d822c0.js" defer=""></script><script src="/jon-portella-blog/_next/static/chunks/aeb4bfe234bd7995.js" defer=""></script><script src="/jon-portella-blog/_next/static/chunks/3efe64ca6e62cbad.js" defer=""></script><script src="/jon-portella-blog/_next/static/chunks/turbopack-aceae543f219d1a2.js" defer=""></script><script src="/jon-portella-blog/_next/static/06TOKRXvN5RAI9-phOGMc/_ssgManifest.js" defer=""></script><script src="/jon-portella-blog/_next/static/06TOKRXvN5RAI9-phOGMc/_buildManifest.js" defer=""></script></head><body><link rel="preload" as="image" href="/jon-portella-blog/assets/profile-pic.jpg"/><div id="__next"><div style="margin-left:auto;margin-right:auto;max-width:56rem;padding:2.625rem 1.3125rem"><nav><ul style="display:flex;margin:0"><li style="list-style:none;margin-right:0.875rem"><a style="text-decoration:none" href="/jon-portella-blog/">Home</a></li><li style="list-style:none;margin-right:0.875rem"><a style="text-decoration:none" href="/jon-portella-blog/blog/">Blog</a></li><li style="list-style:none;margin-right:0.875rem"><a style="text-decoration:none" href="/jon-portella-blog/contact/">Contact</a></li><li style="list-style:none;margin-right:0.875rem"><a style="text-decoration:none" href="/jon-portella-blog/rss.xml">RSS</a></li></ul></nav><div style="max-width:38.5rem;margin-left:auto;margin-right:auto"><header><nav><a style="box-shadow:none;text-decoration:none;color:inherit" href="/jon-portella-blog/blog/"><h1 style="font-size:3.95285rem;line-height:4.375rem;margin-bottom:1.75rem;margin-top:1.75rem">&lt;&gt;</h1></a></nav></header><h1>CDNs — A Deep Dive</h1><p style="font-size:0.83255rem;line-height:1.75rem;display:block;margin-bottom:1.75rem;margin-top:-1.75rem">April 21, 2021</p><div><h3>CDNs — A Deep Dive</h3>
<h4>You’ve used them before but you’re not completely sure what they are, here are some answers.</h4>
<p><img src="/jon-portella-blog/content/blog/cdns-a-deep-dive/images/0.png" alt=""></p>
<p>Single server versus Content Delivery Network (CDN) by <a href="https://en.wikipedia.org/wiki/File:NCDN_-_CDN.png">Kanoha</a> on Wikimedia Commons</p>
<h3>What is a CDN?</h3>
<p>A **Content Distribution **(or Delivery) **Network **(<strong>CDN</strong>) is a group of servers distributed geographically with the purpose of providing fast delivery of Internet content.</p>
<p>The CDN’s servers act as <a href="https://jportella93.medium.com/1-minute-to-become-a-better-developer-17-75fd019f407c">reverse proxies</a> for your origin servers, where the content is hosted.</p>
<p>Servers are contained in facilities called <strong>Points of Presence</strong> (<strong>PoP</strong>), which are spread around the globe.</p>
<h3>How does a CDN work?</h3>
<p>Servers in a CDN can help provide a better user experience by caching content closer to the user and delivering it instead of the origin server.</p>
<p>This reduces the <strong>Round Trip Time (RTT)</strong> which is the number of milliseconds (ms) it takes for a browser to send a request and receive a response back from a server.</p>
<p><img src="/jon-portella-blog/content/blog/cdns-a-deep-dive/images/1.png" alt=""></p>
<p>Without CDN vs with CDN by <a href="https://www.imperva.com/learn/performance/what-is-cdn-how-it-works/">Imperva</a></p>
<h4><strong>Without CDN</strong></h4>
<ol>
<li>A user in Barcelona, Spain opens her browser and navigates to <a href="http://example.com/">http://example.com/</a>. The browser does an HTTP request <code>GET http://example.com/index.html</code></li>
<li>The website is hosted on a server based in Boston, United States, so the request has to travel across the Atlantic ocean and be processed by the origin server. Then, the server’s response has to travel back to Barcelona.</li>
<li>This causes a <strong>high RTT</strong> and a <strong>suboptimal UX</strong>.</li>
</ol>
<h4><strong>With CDN</strong></h4>
<ol>
<li>A user in Barcelona, Spain opens her browser and navigates to <a href="http://example.com/">http://example.com/</a>. The browser does an HTTP request <code>GET http://example.com/index.html</code></li>
<li>When a user requests an asset, the DNS routes the request to the best performing PoP location, which usually is the geographically closest one to the client.</li>
</ol>
<p>At this point, there are 2 possible outcomes:</p>
<ul>
<li><strong>The asset is available:</strong> A non-stale copy of the requested asset is present in the PoP’s cache servers, so the asset is sent back to the user directly, resulting in a <strong>shorter RTT</strong>, hence a better UX.</li>
<li><strong>The asset is NOT available</strong>: The PoP’s server re-routes the request to the origin server, which sends back a fresh version of the asset. The PoP’s server caches the asset and sends it back to the user. This time the RTT is longer but subsequent requests for this asset in this region will be faster since the asset is now available in the PoP’s cache servers.</li>
</ul>
<p>The asset remains cached on the PoP’s cache server until the <strong>time-to-live (TTL)</strong> specified by its HTTP headers expires.</p>
<h3>Pros/cons of using a CDN?</h3>
<p>The most obvious benefit is the **better UX **caused by the **faster RTT **that comes with using cached content in proximity to the user.</p>
<p>Beyond that, using a CDN can result in <strong>increased uptime</strong> on a website. Imagine a traffic overload or a hardware failure that incapacitates your origin server. Having cached content on the distributed CDN’s servers can prevent interruptions on the service for end-users. Moreover, since the content is redundant in the CDN’s servers, a failure in one PoP can be saved by the content on another PoP.</p>
<p>Another benefit is that by serving cached content, <strong>bandwidth costs on the origin server are reduced</strong>. However, the CDN provider might charge a substantial fee, making this benefit tiny, so take this point <em>with a grain of salt</em>!</p>
<p>Also, it is worth noting that some CDN providers, by leveraging the reverse proxy configuration, are crossing to other services. Some use the CDNs distributed configuration to provide <strong>protection againstDistributed Denial of Service(DDOS) attacks</strong>. Also, they may implement load balancers to avoid overloading origin servers with huge amounts of traffic.</p>
<h3>Which types of CDNs exist?</h3>
<p>At the time of writing, there are 6 major types of CDN:</p>
<ul>
<li><strong>Free</strong> CDNs, whose task is to serve open source packages. E.g. jsDelivr.</li>
<li><strong>Commercial</strong> CDNs, provide their services to the public at a cost. E.g. Cloudflare.</li>
<li>**In-House **CDNs, launched by companies whose business model makes commercial CDN options not worth their costs, so they roll out their own private CDN. E.g. Netflix.</li>
<li>**Telco **CDNs, launched by Telecommunications Service Providers (TSPs) in order to serve their own streaming content without leasing commercial CDNs. They’re similar to In-Hose CDNs. E.g. Verizon.</li>
<li><strong>Peer to Peer</strong> (P2P) CDNs, used to share assets between individuals who are equally privileged in the application, or peers. E.g. BitTorrent.</li>
<li><strong>Multi</strong> CDNs, leverage the power of several other CDNs. E.g. MetaCDN.</li>
</ul>
<h3>Why don’t CDNs come by default in web hosting?</h3>
<p>When CDNs were starting to appear in the late 90s, they were really expensive so not all organizations could afford them.</p>
<p>Nowadays, the reductions in cost have made CDNs a more accessible option, and many hosting providers actually offer CDN services as a checkbox add-on.</p>
<h3>Thanks for reading!</h3>
<p>Hope you found it interesting. If you want to learn more, you can find the resources I used to research this topic in the next section. The Imperva one is really well explained.</p>
<p>Keep learning, and have a good day!</p>
<p>Jon Portella</p>
<hr>
<h3>Resources</h3>
<p><a href="https://en.wikipedia.org/wiki/Content_delivery_network">Content delivery network — Wikipedia</a></p>
<p><a href="https://www.cloudflare.com/learning/cdn/what-is-a-cdn/">What is a CDN? | How do CDNs work? — Cloudflare</a></p>
<p><a href="https://docs.microsoft.com/en-us/azure/cdn/cdn-overview">What is a content delivery network (CDN)? — Azure</a></p>
<p><a href="https://www.imperva.com/learn/performance/what-is-cdn-how-it-works/">What is a CDN? How does a CDN Work? — Imperva</a></p>
<p><a href="https://www.imperva.com/learn/performance/cdn-architecture">CDN Infrastructure Architecture and Topology — Imperva</a></p>
<p><a href="https://www.keycdn.com/support/what-is-a-multi-cdn">What Is a Multi CDN? — KeyCDN</a></p>
</div><form style="max-width:450px;margin:5.25rem auto;border:2px solid #358ccb;border-radius:8px;padding:2.625rem 1.75rem" class="embeddable-buttondown-form" action="https://buttondown.email/api/emails/embed-subscribe/jportella93" method="post" target="popupwindow"><label for="bd-email" style="display:block;margin-bottom:1.75rem;font-size:1rem;line-height:1.5;text-align:center">Did you find this interesting?<br/>Drop your email and I&#x27;ll let you know the next time I write!</label><div style="display:flex;flex-direction:column;gap:1.3125rem"><input type="email" id="bd-email" placeholder="Enter your email" required="" style="padding:0.875rem 1.3125rem;border:1px solid #2B303A;border-radius:4px;font-size:1rem;outline:none" name="email"/><input type="hidden" name="embed" value="1"/><input type="submit" style="padding:0.875rem 1.75rem;border:2px solid #358ccb;border-radius:4px;background:transparent;color:#358ccb;font-size:1rem;cursor:pointer;text-decoration:none" value="Subscribe"/></div></form><hr style="margin-bottom:1.75rem"/><div style="display:flex;flex-direction:column;align-items:center;margin-bottom:4.375rem"><img src="/jon-portella-blog/assets/profile-pic.jpg" alt="Jon Portella" width="200" height="200" style="margin-right:0.875rem;margin-bottom:0;min-width:50px;border-radius:100%"/><div style="margin:1.75rem 0;text-align:center"><p>Written by <strong>Jon Portella</strong>.<br/></p><nav style="margin:1.75rem 0"><ul style="display:flex;margin:0;gap:1.75rem;align-items:center"><li style="list-style:none"><a target="_blank" href="https://www.linkedin.com/in/jonportella/" rel="noopener noreferrer" aria-label="LinkedIn" style="display:inline-block;color:inherit;text-decoration:none;transition:opacity 0.2s"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"></path></svg></a></li><li style="list-style:none"><a target="_blank" href="https://github.com/jportella93" rel="noopener noreferrer" aria-label="GitHub" style="display:inline-block;color:inherit;text-decoration:none;transition:opacity 0.2s"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg></a></li><li style="list-style:none"><a target="_blank" href="https://x.com/jportella93" rel="noopener noreferrer" aria-label="X (Twitter)" style="display:inline-block;color:inherit;text-decoration:none;transition:opacity 0.2s"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"></path></svg></a></li><li style="list-style:none"><a target="_blank" href="https://pinterest.com/jonportella/" rel="noopener noreferrer" aria-label="Pinterest" style="display:inline-block;color:inherit;text-decoration:none;transition:opacity 0.2s"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 0C5.373 0 0 5.372 0 12c0 5.084 3.163 9.426 7.627 11.174-.105-.949-.2-2.403.041-3.439.219-.937 1.406-5.957 1.406-5.957s-.359-.72-.359-1.781c0-1.663.967-2.911 2.168-2.911 1.024 0 1.518.769 1.518 1.688 0 1.029-.653 2.567-.992 3.992-.285 1.193.6 2.165 1.775 2.165 2.128 0 3.768-2.245 3.768-5.487 0-2.861-2.063-4.869-5.008-4.869-3.41 0-5.409 2.562-5.409 5.199 0 1.033.394 2.143.889 2.741.099.12.112.225.085.345-.09.375-.293 1.199-.334 1.363-.053.225-.172.271-.401.165-1.495-.69-2.433-2.878-2.433-4.646 0-3.776 2.748-7.252 7.92-7.252 4.158 0 7.392 2.967 7.392 6.923 0 4.135-2.607 7.462-6.233 7.462-1.214 0-2.357-.629-2.75-1.378l-.748 2.853c-.271 1.043-1.002 2.35-1.492 3.146C9.57 23.812 10.763 24.001 12 24.001c6.624 0 11.999-5.372 11.999-12C24 .373 18.627.001 12 .001z"></path></svg></a></li></ul></nav></div></div><ul style="display:flex;flex-wrap:wrap;justify-content:space-between;list-style:none;padding:0"><li><a rel="prev" href="/jon-portella-blog/blog/ombd-14-how-to-call-a-function-when-a-user-stops-typing/">← <!-- -->OMBD#14: How To Call a Function When a User Stops Typing</a></li><li><a rel="next" href="/jon-portella-blog/blog/1-minute-to-become-a-better-developer-6/">1 Minute To Become A Better Developer (#6)<!-- --> →</a></li></ul><footer><nav><a style="box-shadow:none;text-decoration:none;color:inherit" href="/jon-portella-blog/blog/"><h1 style="font-size:3.95285rem;line-height:4.375rem;margin-bottom:1.75rem;margin-top:1.75rem">&lt;/&gt;</h1></a></nav></footer></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"slug":"cdns-a-deep-dive","content":"\u003ch3\u003eCDNs — A Deep Dive\u003c/h3\u003e\n\u003ch4\u003eYou’ve used them before but you’re not completely sure what they are, here are some answers.\u003c/h4\u003e\n\u003cp\u003e\u003cimg src=\"/jon-portella-blog/content/blog/cdns-a-deep-dive/images/0.png\" alt=\"\"\u003e\u003c/p\u003e\n\u003cp\u003eSingle server versus Content Delivery Network (CDN) by \u003ca href=\"https://en.wikipedia.org/wiki/File:NCDN_-_CDN.png\"\u003eKanoha\u003c/a\u003e on Wikimedia Commons\u003c/p\u003e\n\u003ch3\u003eWhat is a CDN?\u003c/h3\u003e\n\u003cp\u003eA **Content Distribution **(or Delivery) **Network **(\u003cstrong\u003eCDN\u003c/strong\u003e) is a group of servers distributed geographically with the purpose of providing fast delivery of Internet content.\u003c/p\u003e\n\u003cp\u003eThe CDN’s servers act as \u003ca href=\"https://jportella93.medium.com/1-minute-to-become-a-better-developer-17-75fd019f407c\"\u003ereverse proxies\u003c/a\u003e for your origin servers, where the content is hosted.\u003c/p\u003e\n\u003cp\u003eServers are contained in facilities called \u003cstrong\u003ePoints of Presence\u003c/strong\u003e (\u003cstrong\u003ePoP\u003c/strong\u003e), which are spread around the globe.\u003c/p\u003e\n\u003ch3\u003eHow does a CDN work?\u003c/h3\u003e\n\u003cp\u003eServers in a CDN can help provide a better user experience by caching content closer to the user and delivering it instead of the origin server.\u003c/p\u003e\n\u003cp\u003eThis reduces the \u003cstrong\u003eRound Trip Time (RTT)\u003c/strong\u003e which is the number of milliseconds (ms) it takes for a browser to send a request and receive a response back from a server.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/jon-portella-blog/content/blog/cdns-a-deep-dive/images/1.png\" alt=\"\"\u003e\u003c/p\u003e\n\u003cp\u003eWithout CDN vs with CDN by \u003ca href=\"https://www.imperva.com/learn/performance/what-is-cdn-how-it-works/\"\u003eImperva\u003c/a\u003e\u003c/p\u003e\n\u003ch4\u003e\u003cstrong\u003eWithout CDN\u003c/strong\u003e\u003c/h4\u003e\n\u003col\u003e\n\u003cli\u003eA user in Barcelona, Spain opens her browser and navigates to \u003ca href=\"http://example.com/\"\u003ehttp://example.com/\u003c/a\u003e. The browser does an HTTP request \u003ccode\u003eGET http://example.com/index.html\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eThe website is hosted on a server based in Boston, United States, so the request has to travel across the Atlantic ocean and be processed by the origin server. Then, the server’s response has to travel back to Barcelona.\u003c/li\u003e\n\u003cli\u003eThis causes a \u003cstrong\u003ehigh RTT\u003c/strong\u003e and a \u003cstrong\u003esuboptimal UX\u003c/strong\u003e.\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch4\u003e\u003cstrong\u003eWith CDN\u003c/strong\u003e\u003c/h4\u003e\n\u003col\u003e\n\u003cli\u003eA user in Barcelona, Spain opens her browser and navigates to \u003ca href=\"http://example.com/\"\u003ehttp://example.com/\u003c/a\u003e. The browser does an HTTP request \u003ccode\u003eGET http://example.com/index.html\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eWhen a user requests an asset, the DNS routes the request to the best performing PoP location, which usually is the geographically closest one to the client.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eAt this point, there are 2 possible outcomes:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eThe asset is available:\u003c/strong\u003e A non-stale copy of the requested asset is present in the PoP’s cache servers, so the asset is sent back to the user directly, resulting in a \u003cstrong\u003eshorter RTT\u003c/strong\u003e, hence a better UX.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eThe asset is NOT available\u003c/strong\u003e: The PoP’s server re-routes the request to the origin server, which sends back a fresh version of the asset. The PoP’s server caches the asset and sends it back to the user. This time the RTT is longer but subsequent requests for this asset in this region will be faster since the asset is now available in the PoP’s cache servers.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eThe asset remains cached on the PoP’s cache server until the \u003cstrong\u003etime-to-live (TTL)\u003c/strong\u003e specified by its HTTP headers expires.\u003c/p\u003e\n\u003ch3\u003ePros/cons of using a CDN?\u003c/h3\u003e\n\u003cp\u003eThe most obvious benefit is the **better UX **caused by the **faster RTT **that comes with using cached content in proximity to the user.\u003c/p\u003e\n\u003cp\u003eBeyond that, using a CDN can result in \u003cstrong\u003eincreased uptime\u003c/strong\u003e on a website. Imagine a traffic overload or a hardware failure that incapacitates your origin server. Having cached content on the distributed CDN’s servers can prevent interruptions on the service for end-users. Moreover, since the content is redundant in the CDN’s servers, a failure in one PoP can be saved by the content on another PoP.\u003c/p\u003e\n\u003cp\u003eAnother benefit is that by serving cached content, \u003cstrong\u003ebandwidth costs on the origin server are reduced\u003c/strong\u003e. However, the CDN provider might charge a substantial fee, making this benefit tiny, so take this point \u003cem\u003ewith a grain of salt\u003c/em\u003e!\u003c/p\u003e\n\u003cp\u003eAlso, it is worth noting that some CDN providers, by leveraging the reverse proxy configuration, are crossing to other services. Some use the CDNs distributed configuration to provide \u003cstrong\u003eprotection againstDistributed Denial of Service(DDOS) attacks\u003c/strong\u003e. Also, they may implement load balancers to avoid overloading origin servers with huge amounts of traffic.\u003c/p\u003e\n\u003ch3\u003eWhich types of CDNs exist?\u003c/h3\u003e\n\u003cp\u003eAt the time of writing, there are 6 major types of CDN:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eFree\u003c/strong\u003e CDNs, whose task is to serve open source packages. E.g. jsDelivr.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eCommercial\u003c/strong\u003e CDNs, provide their services to the public at a cost. E.g. Cloudflare.\u003c/li\u003e\n\u003cli\u003e**In-House **CDNs, launched by companies whose business model makes commercial CDN options not worth their costs, so they roll out their own private CDN. E.g. Netflix.\u003c/li\u003e\n\u003cli\u003e**Telco **CDNs, launched by Telecommunications Service Providers (TSPs) in order to serve their own streaming content without leasing commercial CDNs. They’re similar to In-Hose CDNs. E.g. Verizon.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003ePeer to Peer\u003c/strong\u003e (P2P) CDNs, used to share assets between individuals who are equally privileged in the application, or peers. E.g. BitTorrent.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eMulti\u003c/strong\u003e CDNs, leverage the power of several other CDNs. E.g. MetaCDN.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eWhy don’t CDNs come by default in web hosting?\u003c/h3\u003e\n\u003cp\u003eWhen CDNs were starting to appear in the late 90s, they were really expensive so not all organizations could afford them.\u003c/p\u003e\n\u003cp\u003eNowadays, the reductions in cost have made CDNs a more accessible option, and many hosting providers actually offer CDN services as a checkbox add-on.\u003c/p\u003e\n\u003ch3\u003eThanks for reading!\u003c/h3\u003e\n\u003cp\u003eHope you found it interesting. If you want to learn more, you can find the resources I used to research this topic in the next section. The Imperva one is really well explained.\u003c/p\u003e\n\u003cp\u003eKeep learning, and have a good day!\u003c/p\u003e\n\u003cp\u003eJon Portella\u003c/p\u003e\n\u003chr\u003e\n\u003ch3\u003eResources\u003c/h3\u003e\n\u003cp\u003e\u003ca href=\"https://en.wikipedia.org/wiki/Content_delivery_network\"\u003eContent delivery network — Wikipedia\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://www.cloudflare.com/learning/cdn/what-is-a-cdn/\"\u003eWhat is a CDN? | How do CDNs work? — Cloudflare\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://docs.microsoft.com/en-us/azure/cdn/cdn-overview\"\u003eWhat is a content delivery network (CDN)? — Azure\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://www.imperva.com/learn/performance/what-is-cdn-how-it-works/\"\u003eWhat is a CDN? How does a CDN Work? — Imperva\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://www.imperva.com/learn/performance/cdn-architecture\"\u003eCDN Infrastructure Architecture and Topology — Imperva\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://www.keycdn.com/support/what-is-a-multi-cdn\"\u003eWhat Is a Multi CDN? — KeyCDN\u003c/a\u003e\u003c/p\u003e\n","frontmatter":{"title":"CDNs — A Deep Dive","spoiler":"You’ve used them before but you’re not completely sure what they are, here are some answers.","date":"2021-04-21T23:45:16.803Z"}},"previous":{"slug":"ombd-14-how-to-call-a-function-when-a-user-stops-typing","frontmatter":{"title":"OMBD#14: How To Call a Function When a User Stops Typing","spoiler":"We’ll learn how to implement a browser auto-saving draft system in JavaScript","date":"2021-04-21T13:12:45.974Z"}},"next":{"slug":"1-minute-to-become-a-better-developer-6","frontmatter":{"title":"1 Minute To Become A Better Developer (#6)","spoiler":"Welcome to issue","date":"2021-04-23T13:58:02.393Z"}}},"__N_SSG":true},"page":"/blog/[slug]","query":{"slug":"cdns-a-deep-dive"},"buildId":"06TOKRXvN5RAI9-phOGMc","assetPrefix":"/jon-portella-blog","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>